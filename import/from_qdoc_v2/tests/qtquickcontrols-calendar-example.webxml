<?xml version="1.0" encoding="UTF-8"?>
<WebXML>
    <document>
        <page name="calendar" href="qtquickcontrols-calendar-example.html" status="active" location="qtquickcontrols-examples.qdoc" filepath="C:/Qt/5.11.1/Src/qtquickcontrols/src/controls/doc/src/qtquickcontrols-examples.qdoc" lineno="453" subtype="example" title="Qt Quick Controls - Calendar Example" fulltitle="Qt Quick Controls - Calendar Example" subtitle="" module="QtQuickControls" groups="qtquickcontrols_examples" brief="Demonstrates the use of Calendar control">
            <contents name="running-the-example" title="Running the Example" level="1"/>
            <description path="C:/Qt/5.11.1/Src/qtquickcontrols/src/controls/doc/src/qtquickcontrols-examples.qdoc" line="453" column="4">
                <brief>Demonstrates the use of Calendar control</brief>
                <image href="images/qtquickcontrols-example-calendar.png"/>
                <para>The Calendar example displays a Calendar control and an events list for the selected date. It uses a C++ class to fetch the event details from an SQLite database. The example app uses a custom <link raw="CalendarStyle" href="qml-qtquick-controls-styles-calendarstyle.html" type="">CalendarStyle</link> to highlight the selected date and mark the dates that have events.</para>
                <para>The following snippet from <italic>main.qml</italic> shows how the Calendar control is used in the app:</para>
                <code>Calendar {
    id: calendar
    width: (parent.width &gt; parent.height ? parent.width * 0.6 - parent.spacing : parent.width)
    height: (parent.height &gt; parent.width ? parent.height * 0.6 - parent.spacing : parent.height)
    frameVisible: true
    weekNumbersVisible: true
    selectedDate: new Date(2014, 0, 1)
    focus: true

    style: CalendarStyle {
        dayDelegate: Item {
                 ...
            }
       }
}</code>
                <para>The C++ class, SqlEventModel, inherits SqlQueryModel to create a database with dummy events for certain dates.</para>
                <quotefromfile>calendar/src/sqleventmodel.cpp</quotefromfile>
                <skipto>SqlEventModel::SqlEventModel()</skipto>
                <printto>QList</printto>
                <skipto>void SqlEventModel</skipto>
                <printuntil>/^\}/</printuntil>
                <para>In <italic>main.qml</italic>, the SqlEventModel custom type is used to get the list of events to mark the dates on the calendar.</para>
                <code>SqlEventModel {
    id: eventModel
}

Calendar {
    ...
    style: CalendarStyle {
        dayDelegate: Item {
            ...
            Image {
                visible: eventModel.eventsForDate(styleData.date).length &gt; 0
                ...
                source: &quot;qrc:/images/eventindicator.png&quot;
            }
        }
    }
}</code>
                <para>The app uses a Flow type to position the items, and manipulates the items' width and height based on the orientation change on mobile devices.</para>
                <code>Calendar {
    id: calendar
    width: (parent.width &gt; parent.height ? parent.width * 0.6 - parent.spacing : parent.width)
    height: (parent.height &gt; parent.width ? parent.height * 0.6 - parent.spacing : parent.height)
}

Rectangle {
    width: (parent.width &gt; parent.height ? parent.width * 0.4 - parent.spacing : parent.width)
    height: (parent.height &gt; parent.width ? parent.height * 0.4 - parent.spacing : parent.height)
    border.color: Qt.darker(color, 1.2)

    ListView {
        ...
    }
}</code>
                <section id="running-the-example">
                    <heading level="1">Running the Example</heading>
                    <para>To run the example from <link raw="Qt Creator Manual" href="http://doc.qt.io/qtcreator/index.html" type="page" page="Qt Creator Manual">Qt Creator</link>, open the <bold>Welcome</bold> mode and select the example from <bold>Examples</bold>. For more information, visit <link raw="Qt Creator: Building and Running an Example" href="http://doc.qt.io/qtcreator/creator-build-example-application.html" type="page" page="Qt Creator: Building and Running an Example">Building and Running an Example</link>.</para>
                </section>
            </description>
            <page name="calendar/qml/main.qml" href="qtquickcontrols-calendar-qml-main-qml.html" status="active" subtype="file" title="" fulltitle="main.qml Example File" subtitle="calendar/qml/main.qml">
                <description path="" line="0" column="0"/>
            </page>
            <page name="calendar/src/event.cpp" href="qtquickcontrols-calendar-src-event-cpp.html" status="active" subtype="file" title="" fulltitle="event.cpp Example File" subtitle="calendar/src/event.cpp">
                <description path="" line="0" column="0"/>
            </page>
            <page name="calendar/src/event.h" href="qtquickcontrols-calendar-src-event-h.html" status="active" subtype="file" title="" fulltitle="event.h Example File" subtitle="calendar/src/event.h">
                <description path="" line="0" column="0"/>
            </page>
            <page name="calendar/src/sqleventmodel.cpp" href="qtquickcontrols-calendar-src-sqleventmodel-cpp.html" status="active" subtype="file" title="" fulltitle="sqleventmodel.cpp Example File" subtitle="calendar/src/sqleventmodel.cpp">
                <description path="" line="0" column="0"/>
            </page>
            <page name="calendar/src/sqleventmodel.h" href="qtquickcontrols-calendar-src-sqleventmodel-h.html" status="active" subtype="file" title="" fulltitle="sqleventmodel.h Example File" subtitle="calendar/src/sqleventmodel.h">
                <description path="" line="0" column="0"/>
            </page>
            <page name="calendar/src/main.cpp" href="qtquickcontrols-calendar-src-main-cpp.html" status="active" subtype="file" title="" fulltitle="main.cpp Example File" subtitle="calendar/src/main.cpp">
                <description path="" line="0" column="0"/>
            </page>
            <page name="calendar/calendar.pro" href="qtquickcontrols-calendar-calendar-pro.html" status="active" subtype="file" title="" fulltitle="calendar.pro Example File" subtitle="calendar/calendar.pro">
                <description path="" line="0" column="0"/>
            </page>
            <page name="calendar/resources.qrc" href="qtquickcontrols-calendar-resources-qrc.html" status="active" subtype="file" title="" fulltitle="resources.qrc Example File" subtitle="calendar/resources.qrc">
                <description path="" line="0" column="0"/>
            </page>
            <page name="calendar/images/eventindicator.png" href="qtquickcontrols-calendar-images-eventindicator-png.html" status="active" title="" fulltitle="eventindicator.png Image File" subtitle="calendar/images/eventindicator.png">
                <description path="" line="0" column="0"/>
            </page>
        </page>
    </document>
</WebXML>
