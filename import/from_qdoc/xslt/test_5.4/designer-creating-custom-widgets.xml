<html:html xmlns:html="http://www.w3.org/1999/xhtml" lang="en">
    <html:head>
        <html:meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
        <!-- designer-manual.qdoc -->
        <html:title>Creating Custom Widgets for Qt Designer | Qt Designer Manual </html:title>
        <html:link href="style/offline.css" rel="stylesheet" type="text/css" />
    </html:head>
    <html:body>
        <html:div class="header" id="qtdocheader">
            <html:div class="main">
                <html:div class="main-rounded">
                    <html:div class="navigationbar">
                        <html:ul>
                            <html:li><html:a href="qtdoc/index.html">Qt 5.4</html:a></html:li>
                            <html:li><html:a href="qtdesigner-manual.html">Qt Designer
                                    Manual</html:a></html:li>
                            <html:li>Creating Custom Widgets for Qt Designer</html:li>
                            <html:li id="buildversion">Qt 5.4.2 Reference Documentation</html:li>
                        </html:ul>
                    </html:div>
                </html:div>
                <html:div class="content">
                    <html:div class="line">
                        <html:div class="content mainContent">
                            <html:link href="designer-using-custom-widgets.html" rel="prev" />
                            <html:link href="designer-creating-custom-widgets-extensions.html"
                                rel="next" />
                            <html:p class="naviNextPrevious headerNavi">
                                <html:a class="prevPage" href="designer-using-custom-widgets.html"
                                    >Using Custom Widgets with Qt Designer</html:a>
                                <html:a class="nextPage"
                                    href="designer-creating-custom-widgets-extensions.html">Creating
                                    Custom Widget Extensions</html:a>
                            </html:p><html:p> </html:p><html:div class="sidebar">
                                <html:div class="toc">
                                    <html:h3><html:a name="toc">Contents</html:a></html:h3>
                                    <html:ul>
                                        <html:li class="level1"><html:a href="#getting-started"
                                                >Getting Started</html:a></html:li>
                                        <html:li class="level2"><html:a
                                                href="#providing-an-interface-description">Providing
                                                an Interface Description</html:a></html:li>
                                        <html:li class="level2"><html:a
                                                href="#notes-on-the-func-target-domxml-domxml-func-function"
                                                >Notes on the <html:code>domXml()</html:code>
                                                Function</html:a></html:li>
                                        <html:li class="level1"><html:a href="#plugin-requirements"
                                                >Plugin Requirements</html:a></html:li>
                                        <html:li class="level1"><html:a
                                                href="#creating-well-behaved-widgets">Creating Well
                                                Behaved Widgets</html:a></html:li>
                                        <html:li class="level1"><html:a
                                                href="#building-and-installing-the-plugin">Building
                                                and Installing the Plugin</html:a></html:li>
                                        <html:li class="level2"><html:a href="#a-simple-plugin">A
                                                Simple Plugin</html:a></html:li>
                                        <html:li class="level2"><html:a
                                                href="#splitting-up-the-plugin">Splitting up the
                                                Plugin</html:a></html:li>
                                        <html:li class="level1"><html:a href="#related-examples"
                                                >Related Examples</html:a></html:li>
                                    </html:ul>
                                </html:div>
                                <html:div class="sidebar-content" id="sidebar-content"
                                ></html:div></html:div>
                            <html:h1 class="title">Creating Custom Widgets for Qt Designer</html:h1>
                            <html:span class="subtitle"></html:span>
                            <!-- $$$designer-creating-custom-widgets.html-description -->
                            <html:div class="descr">
                                <html:a name="details"></html:a>
                                <html:p><html:i>Qt Designer</html:i>'s plugin-based architecture
                                    allows user-defined and third party custom widgets to be edited
                                    just like you do with standard Qt widgets. All of the custom
                                    widget's features are made available to <html:i>Qt
                                        Designer</html:i>, including widget properties, signals, and
                                    slots. Since <html:i>Qt Designer</html:i> uses real widgets
                                    during the form design process, custom widgets will appear the
                                    same as they do when previewed.</html:p>
                                <html:p class="centerAlign"><html:img alt=""
                                        src="images/worldtimeclockplugin-example.png"
                                     /></html:p><html:p>The <html:a href="qtdesigner-module.html"
                                        >QtDesigner</html:a> module provides you with the ability to
                                    create custom widgets in <html:i>Qt Designer</html:i>.</html:p>
                                <html:a name="getting-started"></html:a>
                                <html:h2 id="getting-started">Getting Started</html:h2>
                                <html:p>To integrate a custom widget with <html:i>Qt
                                        Designer</html:i>, you require a suitable description for
                                    the widget and an appropriate <html:code>.pro</html:code>
                                    file.</html:p>
                                <html:a name="providing-an-interface-description"></html:a>
                                <html:h3>Providing an Interface Description</html:h3>
                                <html:p>To inform <html:i>Qt Designer</html:i> about the type of
                                    widget you want to provide, create a subclass of <html:a
                                        href="qdesignercustomwidgetinterface.html"
                                        >QDesignerCustomWidgetInterface</html:a> that describes the
                                    various properties your widget exposes. Most of these are
                                    supplied by functions that are pure virtual in the base class,
                                    because only the author of the plugin can provide this
                                    information.</html:p>
                                <html:div class="table"><html:table class="generic">
                                        <html:thead>
                                            <html:tr class="qt-style">
                                                <html:th>Function</html:th>
                                                <html:th>Description of the return value</html:th>
                                            </html:tr>
                                        </html:thead>
                                        <html:tbody>
                                            <html:tr class="odd" valign="top">
                                                <html:td><html:code>name()</html:code></html:td>
                                                <html:td>The name of the class that provides the
                                                  widget.</html:td>
                                            </html:tr>
                                            <html:tr class="even" valign="top">
                                                <html:td><html:code>group()</html:code></html:td>
                                                <html:td>The group in <html:i>Qt Designer</html:i>'s
                                                  widget box that the widget belongs to.</html:td>
                                            </html:tr>
                                            <html:tr class="odd" valign="top">
                                                <html:td><html:code>toolTip()</html:code></html:td>
                                                <html:td>A short description to help users identify
                                                  the widget in <html:i>Qt
                                                  Designer</html:i>.</html:td>
                                            </html:tr>
                                            <html:tr class="even" valign="top">
                                                <html:td><html:code>whatsThis()</html:code></html:td>
                                                <html:td>A longer description of the widget for
                                                  users of <html:i>Qt Designer</html:i>.</html:td>
                                            </html:tr>
                                            <html:tr class="odd" valign="top">
                                                <html:td><html:code>includeFile()</html:code></html:td>
                                                <html:td>The header file that must be included in
                                                  applications that use this widget. This
                                                  information is stored in UI files and will be used
                                                  by <html:code>uic</html:code> to create a suitable
                                                  <html:code>#includes</html:code> statement in the
                                                  code it generates for the form containing the
                                                  custom widget.</html:td>
                                            </html:tr>
                                            <html:tr class="even" valign="top">
                                                <html:td><html:code>icon()</html:code></html:td>
                                                <html:td>An icon that can be used to represent the
                                                  widget in <html:i>Qt Designer</html:i>'s widget
                                                  box.</html:td>
                                            </html:tr>
                                            <html:tr class="odd" valign="top">
                                                <html:td><html:code>isContainer()</html:code></html:td>
                                                <html:td>True if the widget will be used to hold
                                                  child widgets; false otherwise.</html:td>
                                            </html:tr>
                                            <html:tr class="even" valign="top">
                                                <html:td><html:code>createWidget()</html:code></html:td>
                                                <html:td>A <html:a href="qtwidgets/qwidget.html"
                                                  >QWidget</html:a> pointer to an instance of the
                                                  custom widget, constructed with the parent
                                                  supplied.<html:p><html:b>Note:
                                                  </html:b>createWidget() is a factory function
                                                  responsible for creating the widget only. The
                                                  custom widget's properties will not be available
                                                  until load() returns.</html:p></html:td>
                                            </html:tr>
                                            <html:tr class="odd" valign="top">
                                                <html:td><html:code>domXml()</html:code></html:td>
                                                <html:td>A description of the widget's properties,
                                                  such as its object name, size hint, and other
                                                  standard <html:a href="qtwidgets/qwidget.html"
                                                  >QWidget</html:a> properties.</html:td>
                                            </html:tr>
                                            <html:tr class="even" valign="top">
                                                <html:td><html:code>codeTemplate()</html:code></html:td>
                                                <html:td>This function is reserved for future use by
                                                  <html:i>Qt Designer</html:i>.</html:td>
                                            </html:tr>
                                        </html:tbody>
                                    </html:table></html:div>
                                <html:p>Two other virtual functions can also be
                                    reimplemented:</html:p>
                                <html:div class="table"><html:table class="generic">
                                        <html:tbody>
                                            <html:tr class="odd" valign="top">
                                                <html:td><html:code>initialize()</html:code></html:td>
                                                <html:td>Sets up extensions and other features for
                                                  custom widgets. Custom container extensions (see
                                                  <html:a href="qdesignercontainerextension.html"
                                                  >QDesignerContainerExtension</html:a>) and task
                                                  menu extensions (see <html:a
                                                  href="qdesignertaskmenuextension.html"
                                                  >QDesignerTaskMenuExtension</html:a>) should be
                                                  set up in this function.</html:td>
                                            </html:tr>
                                            <html:tr class="even" valign="top">
                                                <html:td><html:code>isInitialized()</html:code></html:td>
                                                <html:td>Returns true if the widget has been
                                                  initialized; returns false otherwise.
                                                  Reimplementations usually check whether the
                                                  <html:code>initialize()</html:code> function has
                                                  been called and return the result of this
                                                  test.</html:td>
                                            </html:tr>
                                        </html:tbody>
                                    </html:table></html:div>
                                <html:a name="notes-on-the-func-target-domxml-domxml-func-function"></html:a>
                                <html:h3>Notes on the <html:code>domXml()</html:code>
                                    Function</html:h3>
                                <html:p>The <html:code>domXml()</html:code> function returns a UI
                                    file snippet that is used by <html:i>Qt Designer</html:i>'s
                                    widget factory to create a custom widget and its applicable
                                    properties.</html:p>
                                <html:p>Since Qt 4.4, <html:i>Qt Designer</html:i>'s widget box
                                    allows for a complete UI file to describe <html:b>one</html:b>
                                    custom widget. The UI file can be loaded using the
                                        <html:code>&lt;ui&gt;</html:code> tag. Specifying the
                                    &lt;ui&gt; tag allows for adding the &lt;customwidget&gt;
                                    element that contains additional information for custom widgets.
                                    The <html:code>&lt;widget&gt;</html:code> tag is sufficient if
                                    no additional information is required</html:p>
                                <html:p>If the custom widget does not provide a reasonable size
                                    hint, it is necessary to specify a default geometry in the
                                    string returned by the <html:code>domXml()</html:code> function
                                    in your subclass. For example, the
                                        <html:code>AnalogClockPlugin</html:code> provided by the
                                        <html:a href="qtdesigner-customwidgetplugin-example.html"
                                        >Custom Widget Plugin</html:a> example, defines a default
                                    widgetgeometry in the following way:</html:p>
                                <html:pre class="qml"> ... <html:span class="string">" &lt;property
                                        name=\"geometry\"&gt;\n"</html:span>
                                    <html:span class="string">" &lt;rect&gt;\n"</html:span>
                                    <html:span class="string">" &lt;x&gt;0&lt;/x&gt;\n"</html:span>
                                    <html:span class="string">" &lt;y&gt;0&lt;/y&gt;\n"</html:span>
                                    <html:span class="string">"
                                        &lt;width&gt;100&lt;/width&gt;\n"</html:span>
                                    <html:span class="string">"
                                        &lt;height&gt;100&lt;/height&gt;\n"</html:span>
                                    <html:span class="string">" &lt;/rect&gt;\n"</html:span>
                                    <html:span class="string">" &lt;/property&gt;\n"</html:span>
                                    ...</html:pre>
                                <html:p>An additional feature of the <html:code>domXml()</html:code>
                                    function is that, if it returns an empty string, the widget will
                                    not be installed in <html:i>Qt Designer</html:i>'s widget box.
                                    However, it can still be used by other widgets in the form. This
                                    feature is used to hide widgets that should not be explicitly
                                    created by the user, but are required by other widgets.</html:p>
                                <html:p>A complete custom widget specification looks like:</html:p>
                                <html:pre class="cpp"><html:span class="operator">&lt;</html:span>ui
                                        language<html:span class="operator">=</html:span><html:span
                                        class="string">"c++"</html:span><html:span class="operator"
                                        >&gt;</html:span> displayname<html:span class="operator"
                                        >=</html:span><html:span class="string"
                                        >"MyWidget"</html:span><html:span class="operator"
                                        >&gt;</html:span>
                                    <html:span class="operator">&lt;</html:span>widget <html:span
                                        class="keyword">class</html:span><html:span class="operator"
                                        >=</html:span><html:span class="string"
                                        >"widgets::MyWidget"</html:span> name<html:span
                                        class="operator">=</html:span><html:span class="string"
                                        >"mywidget"</html:span><html:span class="operator"
                                        >/</html:span><html:span class="operator">&gt;</html:span>
                                    <html:span class="operator"
                                        >&lt;</html:span>customwidgets<html:span class="operator"
                                        >&gt;</html:span>
                                    <html:span class="operator"
                                        >&lt;</html:span>customwidget<html:span class="operator"
                                        >&gt;</html:span>
                                    <html:span class="operator">&lt;</html:span><html:span
                                        class="keyword">class</html:span><html:span class="operator"
                                        >&gt;</html:span>widgets<html:span class="operator"
                                        >::</html:span>MyWidget<html:span class="operator"
                                        >&lt;</html:span><html:span class="operator"
                                        >/</html:span><html:span class="keyword"
                                        >class</html:span><html:span class="operator"
                                        >&gt;</html:span>
                                    <html:span class="operator"
                                        >&lt;</html:span>addpagemethod<html:span class="operator"
                                        >&gt;</html:span>addPage<html:span class="operator"
                                        >&lt;</html:span><html:span class="operator"
                                        >/</html:span>addpagemethod<html:span class="operator"
                                        >&gt;</html:span>
                                    <html:span class="operator"
                                        >&lt;</html:span>propertyspecifications<html:span
                                        class="operator">&gt;</html:span>
                                    <html:span class="operator"
                                    >&lt;</html:span>stringpropertyspecification name<html:span
                                        class="operator">=</html:span><html:span class="string"
                                        >"fileName"</html:span> notr<html:span class="operator"
                                        >=</html:span><html:span class="string">"true"</html:span>
                                        type<html:span class="operator">=</html:span><html:span
                                        class="string">"singleline"</html:span>
                                    <html:span class="operator"
                                    >&lt;</html:span>stringpropertyspecification name<html:span
                                        class="operator">=</html:span><html:span class="string"
                                        >"text"</html:span> type<html:span class="operator"
                                        >=</html:span><html:span class="string"
                                        >"richtext"</html:span>
                                    <html:span class="operator">&lt;</html:span><html:span
                                        class="operator"
                                        >/</html:span>propertyspecifications<html:span
                                        class="operator">&gt;</html:span>
                                    <html:span class="operator">&lt;</html:span><html:span
                                        class="operator">/</html:span>customwidget<html:span
                                        class="operator">&gt;</html:span>
                                    <html:span class="operator">&lt;</html:span><html:span
                                        class="operator">/</html:span>customwidgets<html:span
                                        class="operator">&gt;</html:span>
                                    <html:span class="operator">&lt;</html:span><html:span
                                        class="operator">/</html:span>ui<html:span class="operator"
                                        >&gt;</html:span></html:pre>
                                <html:p>Attributes of the <html:code>&lt;ui&gt;</html:code>
                                    tag:</html:p>
                                <html:div class="table"><html:table class="generic">
                                        <html:thead>
                                            <html:tr class="qt-style">
                                                <html:th>Attribute</html:th>
                                                <html:th>Presence</html:th>
                                                <html:th>Values</html:th>
                                                <html:th>Comment</html:th>
                                            </html:tr>
                                        </html:thead>
                                        <html:tbody>
                                            <html:tr class="odd" valign="top">
                                                <html:td><html:code>language</html:code></html:td>
                                                <html:td>optional</html:td>
                                                <html:td>"c++", "jambi"</html:td>
                                                <html:td>This attribute specifies the language the
                                                  custom widget is intended for. It is mainly there
                                                  to prevent C++-plugins from appearing in Qt
                                                  Jambi.</html:td>
                                            </html:tr>
                                            <html:tr class="even" valign="top">
                                                <html:td><html:code>displayname</html:code></html:td>
                                                <html:td>optional</html:td>
                                                <html:td>Class name</html:td>
                                                <html:td>The value of the attribute appears in the
                                                  Widget box and can be used to strip away
                                                  namespaces.</html:td>
                                            </html:tr>
                                        </html:tbody>
                                    </html:table></html:div>
                                <html:p>The <html:code>&lt;addpagemethod&gt;</html:code> tag tells
                                        <html:i>Qt Designer</html:i> and <html:a
                                        href="qtdoc/uic.html#uic">uic</html:a> which method should
                                    be used to add pages to a container widget. This applies to
                                    container widgets that require calling a particular method to
                                    add a child rather than adding the child by passing the parent.
                                    In particular, this is relevant for containers that are not a a
                                    subclass of the containers provided in <html:i>Qt
                                        Designer</html:i>, but are based on the notion of
                                        <html:i>Current Page</html:i>. In addition, you need to
                                    provide a container extension for them.</html:p>
                                <html:p>The <html:code>&lt;propertyspecifications&gt;</html:code>
                                    element can contain a list of property meta information.
                                    Currently, properties of type string are supported. For these
                                    properties, the
                                        <html:code>&lt;stringpropertyspecification&gt;</html:code>
                                    tag can be used. This tag has the following attributes:</html:p>
                                <html:div class="table"><html:table class="generic">
                                        <html:thead>
                                            <html:tr class="qt-style">
                                                <html:th>Attribute</html:th>
                                                <html:th>Presence</html:th>
                                                <html:th>Values</html:th>
                                                <html:th>Comment</html:th>
                                            </html:tr>
                                        </html:thead>
                                        <html:tbody>
                                            <html:tr class="odd" valign="top">
                                                <html:td><html:code>name</html:code></html:td>
                                                <html:td>required</html:td>
                                                <html:td>Name of the property</html:td>
                                            </html:tr>
                                            <html:tr class="even" valign="top">
                                                <html:td><html:code>type</html:code></html:td>
                                                <html:td>required</html:td>
                                                <html:td>See below table</html:td>
                                                <html:td>The value of the attribute determines how
                                                  the property editor will handle them.</html:td>
                                            </html:tr>
                                            <html:tr class="odd" valign="top">
                                                <html:td><html:code>notr</html:code></html:td>
                                                <html:td>optional</html:td>
                                                <html:td>"true", "false"</html:td>
                                                <html:td>If the attribute is "true", the value is
                                                  not meant to be translated.</html:td>
                                            </html:tr>
                                        </html:tbody>
                                    </html:table></html:div>
                                <html:p>Values of the <html:code>type</html:code> attribute of the
                                    string property:</html:p>
                                <html:div class="table"><html:table class="generic">
                                        <html:thead>
                                            <html:tr class="qt-style">
                                                <html:th>Value</html:th>
                                                <html:th>Type</html:th>
                                            </html:tr>
                                        </html:thead>
                                        <html:tbody>
                                            <html:tr class="odd" valign="top">
                                                <html:td><html:code>"richtext"</html:code></html:td>
                                                <html:td>Rich text.</html:td>
                                            </html:tr>
                                            <html:tr class="even" valign="top">
                                                <html:td><html:code>"multiline"</html:code></html:td>
                                                <html:td>Multi-line plain text.</html:td>
                                            </html:tr>
                                            <html:tr class="odd" valign="top">
                                                <html:td><html:code>"singleline"</html:code></html:td>
                                                <html:td>Single-line plain text.</html:td>
                                            </html:tr>
                                            <html:tr class="even" valign="top">
                                                <html:td><html:code>"stylesheet"</html:code></html:td>
                                                <html:td>A CSS-style sheet.</html:td>
                                            </html:tr>
                                            <html:tr class="odd" valign="top">
                                                <html:td><html:code>"objectname"</html:code></html:td>
                                                <html:td>An object name (restricted set of valid
                                                  characters).</html:td>
                                            </html:tr>
                                            <html:tr class="even" valign="top">
                                                <html:td><html:code>"url"</html:code></html:td>
                                                <html:td>URL, file name.</html:td>
                                            </html:tr>
                                        </html:tbody>
                                    </html:table></html:div>
                                <html:a name="plugin-requirements"></html:a>
                                <html:h2 id="plugin-requirements">Plugin Requirements</html:h2>
                                <html:p>In order for plugins to work correctly on all platforms, you
                                    need to ensure that they export the symbols needed by <html:i>Qt
                                        Designer</html:i>.</html:p>
                                <html:p>First of all, the plugin class must be exported in order for
                                    the plugin to be loaded by <html:i>Qt Designer</html:i>. Use the
                                        <html:a href="qtcore/qtplugin.html#Q_PLUGIN_METADATA"
                                        >Q_PLUGIN_METADATA</html:a>() macro to do this. Also, the
                                        <html:a
                                        href="qdesignercustomwidgetinterface.html#QDESIGNER_WIDGET_EXPORT"
                                        >QDESIGNER_WIDGET_EXPORT</html:a> macro must be used to
                                    define each custom widget class within a plugin, that <html:i>Qt
                                        Designer</html:i> will instantiate.</html:p>
                                <html:a name="creating-well-behaved-widgets"></html:a>
                                <html:h2 id="creating-well-behaved-widgets">Creating Well Behaved
                                    Widgets</html:h2>
                                <html:p>Some custom widgets have special user interface features
                                    that may make them behave differently to many of the standard
                                    widgets found in <html:i>Qt Designer</html:i>. Specifically, if
                                    a custom widget grabs the keyboard as a result of a call to
                                        <html:a href="qtwidgets/qwidget.html#grabKeyboard"
                                        >QWidget::grabKeyboard</html:a>(), the operation of
                                        <html:i>Qt Designer</html:i> will be affected.</html:p>
                                <html:p>To give custom widgets special behavior in <html:i>Qt
                                        Designer</html:i>, provide an implementation of the
                                    initialize() function to configure the widget construction
                                    process for <html:i>Qt Designer</html:i> specific behavior. This
                                    function will be called for the first time before any calls to
                                    createWidget() and could perhaps set an internal flag that can
                                    be tested later when <html:i>Qt Designer</html:i> calls the
                                    plugin's createWidget() function.</html:p>
                                <html:a name="buildingandinstallingtheplugin"></html:a><html:a
                                    name="building-and-installing-the-plugin"></html:a>
                                <html:h2 id="building-and-installing-the-plugin">Building and
                                    Installing the Plugin</html:h2>
                                <html:a name="a-simple-plugin"></html:a>
                                <html:h3>A Simple Plugin</html:h3>
                                <html:p>The <html:a
                                        href="qtdesigner-customwidgetplugin-example.html">Custom
                                        Widget Plugin Example</html:a> demonstrates a simple
                                        <html:i>Qt Designer</html:i> plugin.</html:p>
                                <html:p>The <html:code>.pro</html:code> file for a plugin must
                                    specify the headers and sources for both the custom widget and
                                    the plugin interface. Typically, this file only has to specify
                                    that the plugin's project is to be built as a library, but with
                                    specific plugin support for <html:i>Qt Designer</html:i>. This
                                    is done with the following declarations:</html:p>
                                <html:pre class="cpp">HEADERS = analogclock.h \ customwidgetplugin.h
                                    SOURCES = analogclock.cpp \ customwidgetplugin.cpp OTHER_FILES
                                    += analogclock.json</html:pre>
                                <html:p>If Qt is configured to build in both debug and release
                                    modes, <html:i>Qt Designer</html:i> will be built in release
                                    mode. When this occurs, it is necessary to ensure that plugins
                                    are also built in release mode. To do this, include the
                                    following declaration in the plugin's
                                        <html:code>.pro</html:code> file:</html:p>
                                <html:pre class="cpp">CONFIG += release</html:pre>
                                <html:p>If plugins are built in a mode that is incompatible with
                                        <html:i>Qt Designer</html:i>, they will not be loaded and
                                    installed. For more information about plugins, see the <html:a
                                        href="qtdoc/plugins-howto.html">Plugins HOWTO</html:a>
                                    document.</html:p>
                                <html:p>It is also necessary to ensure that the plugin is installed
                                    together with other <html:i>Qt Designer</html:i> widget
                                    plugins:</html:p>
                                <html:pre class="cpp">target.path = $$[QT_INSTALL_PLUGINS]/designer
                                    INSTALLS += target</html:pre>
                                <html:p>The <html:code>$[QT_INSTALL_PLUGINS]</html:code> variable is
                                    a placeholder to the location of the installed Qt plugins. You
                                    can configure <html:i>Qt Designer</html:i> to look for plugins
                                    in other locations by setting the
                                        <html:code>QT_PLUGIN_PATH</html:code> environment variable
                                    before running the application.</html:p>
                                <html:p><html:b>Note: </html:b><html:i>Qt Designer</html:i> will
                                    look for a <html:code>designer</html:code> subdirectory in each
                                    path supplied.</html:p><html:p>See <html:a
                                        href="qtcore/qcoreapplication.html#libraryPaths"
                                        >QCoreApplication::libraryPaths</html:a>() for more
                                    information about customizing paths for libraries and plugins
                                    with Qt applications.</html:p>
                                <html:a name="splitting-up-the-plugin"></html:a>
                                <html:h3>Splitting up the Plugin</html:h3>
                                <html:p>In a real world scenario, you do not want to have
                                    dependencies of the application making use of the custom widgets
                                    to the <html:i>Qt Designer</html:i> headers and libraries as
                                    introduced by the simple approach explained above.</html:p>
                                <html:p>There are two ways to resolve this:</html:p>
                                <html:ul>
                                    <html:li>Create a <html:code>.pri</html:code> file that contains
                                        the headers sources and sources of the custom
                                            widget:<html:pre class="cpp"> INCLUDEPATH <html:span
                                                class="operator">+</html:span><html:span
                                                class="operator">=</html:span> $$PWD HEADERS
                                                <html:span class="operator">+</html:span><html:span
                                                class="operator">=</html:span> $$PWD<html:span
                                                class="operator">/</html:span>analogclock<html:span
                                                class="operator">.</html:span>h SOURCES <html:span
                                                class="operator">+</html:span><html:span
                                                class="operator">=</html:span> $$PWD<html:span
                                                class="operator">/</html:span>analogclock<html:span
                                                class="operator">.</html:span>cpp</html:pre>
                                        <html:p>This file would then be included by the
                                                <html:code>.pro</html:code> file of the plugin and
                                            the application:</html:p>
                                        <html:pre class="cpp">
                                            <html:span class="keyword"
                                                >include</html:span>(customwidget<html:span
                                                class="operator">.</html:span>pri)</html:pre>
                                        <html:p>Running <html:code>qmake -Wall</html:code> on the
                                                <html:code>.pro</html:code> files causes a warning
                                            to be printed if an included <html:code>.pri</html:code>
                                            file cannot be found.</html:p>
                                    </html:li>
                                    <html:li>Create a standalone shared library containing the
                                        custom widgets only as described in <html:a
                                            href="qtdoc/sharedlibrary.html">Creating Shared
                                            Libraries</html:a>.<html:p>This library would then be
                                            used by the application as well as by the <html:i>Qt
                                                Designer</html:i> plugin. Care must be taken to
                                            ensure that the plugin can locate the library at
                                            run-time.</html:p>
                                    </html:li>
                                </html:ul>
                                <html:a name="related-examples"></html:a>
                                <html:h2 id="related-examples">Related Examples</html:h2>
                                <html:p>For more information on using custom widgets in <html:i>Qt
                                        Designer</html:i>, refer to the <html:a
                                        href="qtdesigner-customwidgetplugin-example.html">Custom
                                        Widget Plugin</html:a> and <html:a
                                        href="qtdesigner-worldtimeclockplugin-example.html">World
                                        Time Clock Plugin</html:a> examples for more information
                                    about using custom widgets in <html:i>Qt Designer</html:i>.
                                    Also, you can use the <html:a
                                        href="qdesignercustomwidgetcollectioninterface.html"
                                        >QDesignerCustomWidgetCollectionInterface</html:a> class to
                                    combine several custom widgets into a single library.</html:p>
                            </html:div>
                            <!-- @@@designer-creating-custom-widgets.html -->
                            <html:p class="naviNextPrevious footerNavi">
                                <html:a class="prevPage" href="designer-using-custom-widgets.html"
                                    >Using Custom Widgets with Qt Designer</html:a>
                                <html:a class="nextPage"
                                    href="designer-creating-custom-widgets-extensions.html">Creating
                                    Custom Widget Extensions</html:a>
                            </html:p>
                        </html:div>
                    </html:div>
                </html:div>
            </html:div>
        </html:div>
        <html:div class="footer">
            <html:p>
                <html:acronym title="Copyright">&#169;</html:acronym> 2015 The Qt Company Ltd.
                Documentation contributions included herein are the copyrights of their respective
                owners.<html:br /> The documentation provided herein is licensed under the terms of
                the <html:a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation
                    License version 1.3</html:a> as published by the Free Software
                Foundation.<html:br /> Qt and respective logos are trademarks of The Qt Company Ltd.
                in Finland and/or other countries worldwide. All other trademarks are property of
                their respective owners. </html:p>
        </html:div>
    </html:body>
</html:html>